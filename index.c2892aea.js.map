{"mappings":"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","sources":["js/utils/classHelpers.js","js/index.js"],"sourcesContent":["export const containClass = (elmt, className) => {\r\n    let elem;\r\n    try {\r\n        elem = typeof elmt === 'object' ? elmt : document.querySelector(elmt);   \r\n    } catch (error) {\r\n        console.error(error);\r\n        return;\r\n    }\r\n\r\n    if (elem.classList.contains(className)) {\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nexport const addClass = (elmt, className) => {\r\n    let elem;\r\n    try {\r\n        elem = typeof elmt === 'object' ? elmt : document.querySelector(elmt);   \r\n    } catch (error) {\r\n        console.error(error);\r\n        return;\r\n    }\r\n\r\n    if (containClass(elem, className)) {\r\n       return; \r\n    }\r\n\r\n    elem.classList.add(className);\r\n    return true;\r\n}\r\n\r\nexport const removeClass = (elmt, className) => {\r\n    let elem;\r\n    try {\r\n        elem = typeof elmt === 'object' ? elmt : document.querySelector(elmt);   \r\n    } catch (error) {\r\n        console.error(error);\r\n        return;\r\n    }\r\n\r\n    if (containClass(elem, className)) {\r\n        elem.classList.remove(className);\r\n    }\r\n    \r\n    return true;\r\n}\r\n\r\nexport const replaceClass = (elmt, classFrom, classTo) => {\r\n    let elem;\r\n    try {\r\n        elem = typeof elmt === 'object' ? elmt : document.querySelector(elmt);   \r\n    } catch (error) {\r\n        console.error(error);\r\n        return;\r\n    }\r\n\r\n    if (containClass(elem, classFrom)) {\r\n        removeClass(elmt, classFrom);\r\n        addClass(elmt, classTo);\r\n    }\r\n\r\n    return true;\r\n}\r\n","import { addClass, removeClass } from \"./utils/classHelpers\";\r\n\r\nlet variables = {\r\n    bill: 0,\r\n    percentage: 0,\r\n    people: 0,\r\n    totalPer: 0,\r\n    total: 0\r\n}\r\n\r\nconst inputs = {\r\n    bill: document.querySelector('#bill-field'),\r\n    custom: document.querySelector('#custom-field'),\r\n    person: document.querySelector('#person-field')\r\n}\r\n\r\nconst btns = document.querySelectorAll('.calculator__tip-btn');\r\nconst resetBtn = document.querySelector('#reset-btn');\r\nconst activeBtnClass = \"btn--active\";\r\nconst decimalPlaces = 2;\r\n\r\n/* Utils */\r\n    const disable = () => {\r\n        const subObj = {...variables }\r\n\r\n        delete subObj.total;\r\n        delete subObj.totalPer;\r\n\r\n        if (Object.values(subObj).every(num => num > 0)) {\r\n            removeClass(resetBtn, 'disabled')\r\n        }\r\n        else{\r\n            addClass(resetBtn, 'disabled');\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    const update = () => {\r\n        disable()\r\n        if (!personsCheck()) {\r\n            return;\r\n        }\r\n\r\n        variables.totalPer = (variables. percentage / 100) * variables.bill;\r\n        variables.total = variables.totalPer * variables.people;\r\n        document.querySelector('#price-person').textContent = `$${variables.totalPer.toFixed(decimalPlaces)}`;\r\n        document.querySelector('#price-total').textContent = `$${variables.total.toFixed(decimalPlaces)}`;\r\n    }\r\n\r\n    const inputNumberValidation = (value, validCallback, invalidCallback) => {\r\n        try {\r\n            if (value.length > 0 && isFinite(value)) {\r\n                validCallback && validCallback();\r\n            }\r\n            else{\r\n                invalidCallback && invalidCallback();\r\n            }  \r\n        } catch (error) {\r\n            console.warn(error);\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    const initInputField = (field) => {\r\n        field.value = '';\r\n        removeClass(field, 'outlined')\r\n    }\r\n\r\n    const curry = (callback) => {\r\n        callback && callback();\r\n        billInit();\r\n        personsCheck();\r\n        update();\r\n        return true;\r\n    }\r\n\r\n// Bill field\r\nconst billInit = () => {\r\n    let { value } = inputs.bill;\r\n    if (Number(value)  && Number(value) > 0) {\r\n        return;\r\n    }\r\n    value = '0';\r\n    variables.bill = Number(value)\r\n}\r\ninputs.bill.addEventListener('input', function(e){handleBillInput(e, this)});\r\nconst handleBillInput = (e, field) => {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n    const value = Number(e.target.value);\r\n    if (Number(value) && Number(value) > 0) {\r\n        variables.bill = Number(value);\r\n    } else variables.bill = 0;\r\n    update();\r\n}\r\n\r\n\r\n// Buttons\r\n    const initButtons = () => {\r\n        btns.forEach((item) => {\r\n            removeClass(item, activeBtnClass);\r\n        });\r\n    }\r\n\r\n    const handleBtnClick = (btn, e) => {\r\n        initButtons();\r\n        initInputField(inputs.custom);\r\n        variables.percentage = Number(btn.dataset.value);\r\n        addClass(btn, activeBtnClass);\r\n    }\r\n\r\n    btns.forEach(item => {\r\n        item.addEventListener('click', function(e){curry(handleBtnClick(this, e))})\r\n    });\r\n\r\n\r\n// Custom field\r\n    inputs.custom.addEventListener('focusout', function(e){handleCustomField(this)});\r\n    const handleCustomField = (field) => {\r\n        let { value } = field;\r\n\r\n        inputNumberValidation(value, () => curry(function(){\r\n            initButtons()\r\n            variables.percentage = Number(value);\r\n            addClass(field, 'outlined');\r\n        }), () => initInputField(field))\r\n    }\r\n\r\n// Person   field   validation\r\n    const personsCheck = () => {\r\n        const { value } = inputs.person;\r\n        if (Number(value) && Number(value) > 0) {\r\n            document.querySelector('#persons-container').dataset.error = \"false\";\r\n            return true;\r\n        }\r\n        else{\r\n            document.querySelector('#persons-container').dataset.error = \"true\";\r\n            variables.people = 0;\r\n            return;\r\n        }\r\n    }\r\n    inputs.person.addEventListener('input', function(e){if(personsCheck()){handlePersonField(e, this)} else update()});\r\n    const handlePersonField = (e, field) => {\r\n        let { value } = field;\r\n        variables.people = Number(value);\r\n        update();\r\n    }\r\n\r\n// RESET BUTTON\r\n    resetBtn.addEventListener('click', function(e){curry(() => handleResetButton(e, this))})\r\n    const handleResetButton = (e, btn) => {\r\n        variables = {bill: 0,percentage: 0,people: 0,totalPer: 0,total: 0}\r\n        initButtons();\r\n        for (const key in inputs) {\r\n            initInputField(inputs[key]);\r\n            inputs[key].value = \"\";\r\n        }\r\n\r\n        document.querySelector('#price-person').textContent = `$0.00`;\r\n        document.querySelector('#price-total').textContent = `$0.00`;\r\n        update();\r\n    };\r\n\r\nwindow.onload = function() {\r\n    initButtons();\r\n}"],"names":["$5687476836086436$export$559df1b797ec258a","elmt","className","elem","document","querySelector","error","console","classList","contains","$5687476836086436$export$d2cf6cd1dc7067d3","add","$5687476836086436$export$c2255604a80b4506","remove","$e5e6023659c13c1d$var$variables","bill","percentage","people","totalPer","total","$e5e6023659c13c1d$var$inputs","custom","person","$e5e6023659c13c1d$var$btns","querySelectorAll","$e5e6023659c13c1d$var$resetBtn","$e5e6023659c13c1d$var$update","subObj","Object","values","every","num","$e5e6023659c13c1d$var$disable","$e5e6023659c13c1d$var$personsCheck","textContent","toFixed","$e5e6023659c13c1d$var$initInputField","field","value","$e5e6023659c13c1d$var$curry","callback","$e5e6023659c13c1d$var$billInit","Number","addEventListener","e","$e5e6023659c13c1d$var$handleBillInput","this","stopPropagation","preventDefault","target","$e5e6023659c13c1d$var$initButtons","forEach","item","btn","dataset","$e5e6023659c13c1d$var$handleCustomField","validCallback","invalidCallback","length","isFinite","warn","$e5e6023659c13c1d$var$inputNumberValidation","$e5e6023659c13c1d$var$handlePersonField","$e5e6023659c13c1d$var$handleResetButton","key","window","onload"],"version":3,"file":"index.c2892aea.js.map"}